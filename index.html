<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>인플루언서 스크리닝 통합 시트</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            background-color: #f5f5f5;
        }

        .tab-container {
            background: white;
            border-bottom: 1px solid #ddd;
        }

        .tabs {
            display: flex;
            max-width: 1600px;
            margin: 0 auto;
        }

        .tab {
            padding: 15px 25px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab.active {
            background: #3498db;
            color: white;
            border-bottom: 3px solid #2980b9;
        }

        .tab:hover:not(.active) {
            background: #ecf0f1;
        }

        .content {
            max-width: 1600px;
            margin: 20px auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            overflow-x: auto
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            background: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #e74c3c;
        }

        .stat-label {
            font-size: 12px;
            color: #7f8c8d;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
            font-size: 12px;
        }

        th {
            background-color: #3498db;
            color: white;
            font-weight: bold;
        }

        .priority-s {
            background-color: #8e44ad;
            color: white;
        }

        .priority-a {
            background-color: #2ecc71;
            color: white;
        }

        .priority-b {
            background-color: #f39c12;
            color: white;
        }

        .priority-c {
            background-color: #95a5a6;
            color: white;
        }

        .priority-d {
            background-color: #e74c3c;
            color: white;
        }

        .score-input {
            width: 40px;
            text-align: center;
            border: none;
            background: transparent;
        }

        .total-score {
            font-weight: bold;
            font-size: 14px;
        }

        .add-btn,
        .delete-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 10px;
        }

        .delete-btn {
            background: #e74c3c;
            padding: 5px 10px;
            font-size: 11px;
        }

        .add-btn:hover {
            background: #2980b9;
        }

        .delete-btn:hover {
            background: #c0392b;
        }

        .budget-info {
            background: #e8f5e8;
            padding: 15px;
            border-left: 4px solid #2ecc71;
            margin-bottom: 20px;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #7f8c8d;
        }

        .firebase-status {
            background: #d4edda;
            color: #155724;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            text-align: center;
        }

        .firebase-error {
            background: #f8d7da;
            color: #721c24;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            text-align: center;
        }

        /* 기존 스타일들 동일하게 유지 */
        .sprint-week {
            background: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 15px 0;
        }

        .week-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .team-task {
            background: white;
            padding: 10px;
            margin: 8px 0;
            border-radius: 5px;
            border-left: 3px solid #e74c3c;
        }

        .checklist-item {
            background: #f8f9fa;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            border-left: 3px solid #2ecc71;
        }

        .scoring-guide {
            background: #fff3cd;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }

        .outreach-strategy {
            background: #f0f8ff;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            border-left: 4px solid #3498db;
        }

        .immediate-tasks {
            background: #ffe6e6;
            padding: 20px;
            border-radius: 8px;
            border-left: 5px solid #e74c3c;
        }

        .task-day {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            border-left: 3px solid #f39c12;
        }

        .tooltip {
            position: relative;
            display: inline-block;
            cursor: pointer;
            background: #95a5a6;
            color: white;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            font-size: 12px;
            text-align: center;
            line-height: 16px;
            margin-left: 5px;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            font-size: 11px;
            line-height: 1.4;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
        }

        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }

        .budget-info a:hover {
            background: #c0392b !important;
            transform: translateY(-1px);
        }
    </style>
</head>

<body>
    <div class="tab-container">
        <div class="tabs">
            <div class="tab active" onclick="showTab('main')">메인 스크리닝</div>
            <div class="tab" onclick="showTab('checklist')">체크리스트 가이드</div>
            <div class="tab" onclick="showTab('sprint')">4주 스프린트 플랜</div>
            <div class="tab" onclick="showTab('reddit')">컨텐츠 기획</div>
            <div class="tab" onclick="showTab('outreach')">인플루언서 대응 전략</div>
            <div class="tab" onclick="showTab('tasks')">당장 할 일</div>
        </div>
    </div>

    <div class="content">
        <!-- Firebase 상태 표시 -->
        <div id="firebaseStatus" class="loading">🔄 Firebase 연결 중...</div>

        <!-- 메인 스크리닝 탭 -->
        <div id="main" class="tab-content active">
            <h1>10월 아마존 빅이벤트 인플루언서 스크리닝 시트</h1>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <div class="budget-info">
                    <h3>🎯 목표</h3>
                    <strong>10월 예산: 2억원</strong><br>
                    <strong>리스팅 목표:</strong> 총 100명 인플루언서 리스팅<br>
                    <strong>최종 목표:</strong> 10명 협업 성사 (S급 2명 + A급 8명)<br>
                    <strong>컨택 목표:</strong> 30명 이상 컨택 (응답률 30% 가정)<br>
                    <strong>마감:</strong> 9월 15일까지 1차 컨택 완료<br>
                    <strong>플랫폼:</strong> Instagram + TikTok | <strong>팀원:</strong> 신희경, 최연주, 김유진
                </div>

                <div class="budget-info" style="border-left-color: #e74c3c;">
                    <h3>📈 우수 사례: 7월 아마존 프라임데이 성공 전략</h3>
                    <p style="margin-bottom: 15px; line-height: 1.5; font-size: 14px;">
                        7월 프라임데이에서 핵심 성과를 달성할 수 있었던 것은 단순히 예산을 투입한 것이 아니라,
                        <strong>신희경님이 시간을 공들여 최적의 인플루언서를 찾는 체계적 접근</strong> 때문이었습니다.
                    </p>

                    <div style="text-align: center;">
                        <a href="https://docs.google.com/presentation/d/1_RPrcCLJCcRN4kuFdIxXsxCFPd0yCmHwFIqOYX9QFYw/edit?usp=sharing"
                            target="_blank"
                            style="display: inline-block; background: #e74c3c; color: white; padding: 12px 20px; text-decoration: none; border-radius: 5px; font-weight: bold; transition: background 0.3s;">
                            📊 완벽한 인플루언서 선정 가이드 보기
                        </a>
                    </div>

                    <p style="margin-top: 15px; font-size: 12px; color: #7f8c8d; text-align: center;">
                        매출 증대의 핵심: 체계적 인플루언서 검증 프로세스
                    </p>
                </div>
            </div>

            <div class="stats">
                <div class="stat-item">
                    <div class="stat-number" id="totalCandidates">0</div>
                    <div class="stat-label">총 후보</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="aPriority">0</div>
                    <div class="stat-label">S+A급</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="contacted">0</div>
                    <div class="stat-label">컨택완료</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="responded">0</div>
                    <div class="stat-label">답장받음</div>
                </div>
            </div>

            <div class="scoring-guide">
                <strong>📊 최소 기준:</strong><br>
                • <strong>Instagram:</strong> 팔로워 30만+ (참여율 3%+ 필수)<br>
                • <strong>TikTok:</strong> 팔로워 50만+ (최근 1개월 조회수 평균 10만+)<br>
                • <strong>공통:</strong> 최근 3개월 활동, 뷰티/라이프스타일 관련 콘텐츠 50%+<br>
                <strong>점수 기준:</strong> S급(80+점) 최우선 | A급(70+점) 즉시컨택 | B급(55-69점) 조건부 | C급(35-54점) 보류 | D급(35점 미만) 제외
            </div>

            <button class="add-btn" onclick="addInfluencer()">+ 인플루언서 추가</button>

            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                <div></div>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <label style="font-size: 12px;">정렬:</label>
                    <select id="sortFilter" onchange="sortTable()" style="padding: 5px; font-size: 12px;">
                        <option value="">기본순서</option>
                        <option value="grade-high">등급 (높은순)</option>
                        <option value="grade-low">등급 (낮은순)</option>
                        <option value="total-high">총점 (높은순)</option>
                        <option value="total-low">총점 (낮은순)</option>
                        <option value="platform">플랫폼</option>
                        <option value="brand">브랜드</option>
                        <option value="assignee">담당자</option>
                        <option value="status">컨택상태</option>
                    </select>
                </div>
            </div>

            <table id="influencerTable">
                <thead>
                    <tr>
                        <th>순번</th>
                        <th>인플루언서명</th>
                        <th>플랫폼</th>
                        <th>브랜드</th>
                        <th>팔로워수</th>
                        <th>최근 조회수 <span class="tooltip">?<span class="tooltiptext">최근 포스트 3개의 평균 조회수<br>예: 2.1M, 500K,
                                    1.8M</span></span></th>
                        <th>댓글 수 <span class="tooltip">?<span class="tooltiptext">최근 포스트의 평균 댓글 수<br>예: 1.2K, 340,
                                    890</span></span></th>
                        <th>구매력<br>(20점)</th>
                        <th>신뢰성<br>(25점)</th>
                        <th>커뮤니티<br>(20점)</th>
                        <th>타겟매칭<br>(20점)</th>
                        <th>실사용<br>(15점)</th>
                        <th>총점</th>
                        <th>등급</th>
                        <th>담당자</th>
                        <th>컨택상태</th>
                        <th>희망단가</th>
                        <th>삭제</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- 데이터는 Firebase에서 로드됨 -->
                </tbody>
            </table>
        </div>


        <!-- 체크리스트 가이드 탭 -->
        <div id="checklist" class="tab-content">
            <h2>📋 점수 매기기 가이드 (팀원용)</h2>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 0px;">
                <div class="checklist-item">
                    <h3>📊 점수 등급표</h3>
                    <table style="width: 100%; min-width: auto;">
                        <tr>
                            <th>등급</th>
                            <th>점수</th>
                            <th>액션</th>
                        </tr>
                        <tr>
                            <td class="priority-s">S급</td>
                            <td>80점+</td>
                            <td>최우선 컨택</td>
                        </tr>
                        <tr>
                            <td class="priority-a">A급</td>
                            <td>70-79점</td>
                            <td>즉시 컨택</td>
                        </tr>
                        <tr>
                            <td class="priority-b">B급</td>
                            <td>55-69점</td>
                            <td>조건부 컨택</td>
                        </tr>
                        <tr>
                            <td class="priority-c">C급</td>
                            <td>35-54점</td>
                            <td>보류</td>
                        </tr>
                        <tr>
                            <td class="priority-d">D급</td>
                            <td>35점 미만</td>
                            <td>제외</td>
                        </tr>
                    </table>
                </div>

                <div class="checklist-item">
                    <h3>🛒 구매력 (20점 만점)</h3>
                    <strong>이런 걸 찾아보세요:</strong><br>
                    • 제품 추천 후 댓글에 "어디서 사요?" "링크 주세요" 많은가? (5점)<br>
                    • 스토리에 "많이 물어보셔서 링크 올려요" 자주 나오는가? (5점)<br>
                    • 프로모션 코드나 할인링크를 자주 공유하는가? (5점)<br>
                    • 팔로워들이 "또 샀어요" "써보니 좋네요" 후기 댓글 다는가? (5점)<br>
                    <strong>점수 기준:</strong> 16점+ 우수 | 12-15점 보통 | 8-11점 미흡
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 0px;">
                <div class="checklist-item">
                    <h3>🎯 신뢰성 (25점 만점)</h3>
                    <strong>이런 걸 체크하세요:</strong><br>
                    • 광고 표시를 정직하게 하는가? (#ad #sponsored 명시) (5점)<br>
                    • 안 좋은 제품도 솔직하게 말하는가? (5점)<br>
                    • 댓글에 진짜 사용 후기가 많은가? (봇 댓글 아닌) (5점)<br>
                    • 일관된 톤앤매너와 가치관을 보여주는가? (5점)<br>
                    • 최근 6개월 내 논란이나 가짜 리뷰 이슈 없었는가? (5점)<br>
                    <strong>점수 기준:</strong> 20점+ 우수 | 15-19점 보통 | 10-14점 미흡
                </div>

                <div class="checklist-item">
                    <h3>👥 커뮤니티 (20점 만점)</h3>
                    <strong>이런 걸 확인하세요:</strong><br>
                    • 댓글 수가 팔로워 대비 많은가? (팔로워의 2% 이상) (5점)<br>
                    • 팔로워들끼리 서로 대화하고 추천하는가? (5점)<br>
                    • 인플루언서가 댓글에 직접 답장을 자주 하는가? (5점)<br>
                    • 최근 한 달 내 바이럴된 콘텐츠(조회수 평소의 3배+) 있는가? (5점)<br>
                    <strong>점수 기준:</strong> 16점+ 우수 | 12-15점 보통 | 8-11점 미흡
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="checklist-item">
                    <h3>🎯 타겟매칭 (20점 만점)</h3>
                    <strong>우리 타겟(예: ATP: K-mom, 25-45세)과 얼마나 맞는지:</strong><br>
                    • 인플루언서 본인이 엄마이거나 결혼 준비 중인가? (5점)<br>
                    • 한국/아시아 뷰티 제품을 자주 사용하는가? (5점)<br>
                    • 팔로워 댓글을 보니 비슷한 연령대가 많은가? (5점)<br>
                    • 가정, 육아, 라이프스타일 콘텐츠 비중이 높은가? (5점)<br>
                    <strong>점수 기준:</strong> 16점+ 우수 | 12-15점 보통 | 8-11점 미흡
                </div>

                <div class="checklist-item">
                    <h3>✅ 실사용 (15점 만점)</h3>
                    <strong>진짜 제품을 써봤는지 확인:</strong><br>
                    • 스토리나 피드에 자연스럽게 제품 사용하는 모습? (5점)<br>
                    • 제품의 장단점을 구체적으로 설명하는가? (5점)<br>
                    • "재구매했어요" "떨어져가서 또 주문" 같은 멘션? (5점)<br>
                    <strong>점수 기준:</strong> 12점+ 우수 | 9-11점 보통 | 6-8점 미흡
                </div>
            </div>
        </div>

        <!-- 스프린트 플랜 탭 -->
        <div id="sprint" class="tab-content">
            <h2>📅 4주 스프린트 플랜</h2>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 0px;">
                <div class="sprint-week">
                    <div class="week-title">1주차 (9월 1일 월 - 5일 금): 대량 스크리닝</div>
                    <strong>목표:</strong> 총 100명 리스팅, 상위 30명 1차 점수 매기기

                    <div class="team-task">
                        <strong>김유진:</strong> 전 플랫폼 인플루언서 50명 리스팅<br>
                        <strong>일일 목표:</strong> 10명씩 (팔로워 30만+ 기준, 참여율 3%+ 필수)
                    </div>

                    <div class="team-task">
                        <strong>신희경:</strong> Instagram 인플루언서 25명 리스팅<br>
                        <strong>일일 목표:</strong> 5명씩
                    </div>

                    <div class="team-task">
                        <strong>최연주:</strong> TikTok 인플루언서 25명 + 경쟁사 분석<br>
                        <strong>일일 목표:</strong> 5명 + 경쟁사 분석 1개 브랜드씩
                    </div>
                </div>

                <div class="sprint-week">
                    <div class="week-title">2주차 (9월 8일 월 - 12일 금): 체크리스트 검증 & 1차 컨택</div>
                    <strong>목표:</strong> 상위 50명 체크리스트 검증, S급+A급 즉시 컨택

                    <div class="team-task">
                        <strong>신희경:</strong> 25명 구매력+신뢰성 체크리스트 검증<br>
                        <strong>최연주:</strong> 25명 커뮤니티+타겟매칭 체크리스트 검증<br>
                        <strong>김유진:</strong> S급+A급 나오는 즉시 아웃리치 시작
                    </div>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;  margin-bottom: 20px;">
                <div class="sprint-week">
                    <div class="week-title">3주차 (9월 15일 월 - 19일 금): 인플루언서 확정</div>
                    <strong>목표:</strong> 30명 이상 컨택, 10명 이상 1차 미팅 확정

                    <div class="team-task">
                        <strong>전체:</strong> 목표 달성까지 지속적인 컨택<br>
                        응답률 낮을 걸 대비해서 **3배수 법칙** 적용 (목표 10명 → 30명 컨택)
                    </div>
                </div>

                <div class="sprint-week">
                    <div class="week-title">4주차 (9월 22일 월 - 26일 금): 컨텐츠 기획</div>
                    <strong>목표:</strong> 확정 인플루언서별 맞춤 컨텐츠 기획 완료

                    <div class="team-task">
                        <strong>전체:</strong> Reddit 바이럴 트렌드 분석 및 브랜드별 컨텐츠 전략 수립<br>
                        <strong>김유진:</strong> 인플루언서별 후킹 메시지 및 스토리라인 기획<br>
                        <strong>신희경/최연주:</strong> 제품별 차별점과 Reddit 화제 연결점 도출
                    </div>
                </div>
            </div>

            <div class="budget-info">
                <h3>💰 2억 예산 분배</h3>
                <strong>S급 (2명):</strong> 5,000만원 × 2 = 1억원 (메인 캠페인)<br>
                <strong>A급 (8명):</strong> 1,250만원 × 8 = 1억원 (핵심 타겟)<br>
                <strong>총계:</strong> 2억원<br><br>
                <strong>전략:</strong> S/A급에 집중 투자로 임팩트 극대화
            </div>
        </div>

        <!-- Reddit 바이럴 체크 탭 -->
        <div id="reddit" class="tab-content">
            <h2>📋 컨텐츠 기획 가이드</h2>

            <div style="margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                <p style="margin: 0; color: #666; line-height: 1.5;">
                    인플루언서와 협업이 성사된 후, Reddit을 활용한 효과적인 컨텐츠 기획을 위한 가이드입니다.
                    바이럴 트렌드 분석부터 실제 컨텐츠 제작까지의 전략을 단계별로 수립할 수 있습니다.
                </p>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                <div class="checklist-item">
                    <h3>🔍 현재 바이럴 트렌드 파악</h3>
                    • 우리 제품 카테고리와 관련된 최근 인기 포스트 분석<br>
                    • 고객들이 실제로 고민하고 있는 문제점 파악<br>
                    • 경쟁 제품에 대한 Reddit 사용자들의 솔직한 피드백 수집<br>
                    • 브랜드별 서브레딧에서 주간/월간 인기 토픽 모니터링<br>
                    • 계절별, 이벤트별 관심사 변화 추적
                </div>

                <div class="checklist-item">
                    <h3>💡 컨텐츠 아이디어 발굴</h3>
                    • "Reddit에서 화제가 된 이슈를 우리 제품으로 해결" 관점<br>
                    • 사용자들의 실제 경험담과 우리 제품의 솔루션 연결<br>
                    • 인플루언서가 Reddit 트렌드를 반영한 자연스러운 컨텐츠 제작<br>
                    • 후킹 메시지와 실제 사용자 니즈의 매칭<br>
                    • Before/After 스토리텔링 구조 기획
                </div>

                <div class="checklist-item">
                    <h3>🎯 레버리지 전략</h3>
                    • 바이럴 포스트의 핵심 메시지를 우리 브랜드 스토리에 적용<br>
                    • Reddit 커뮤니티에서 검증된 니즈를 인플루언서 컨텐츠에 반영<br>
                    • 실제 사용자 고민과 우리 제품의 차별점을 자연스럽게 연결<br>
                    • Derma-approved 포지셔닝과 Reddit 화제의 결합<br>
                    • 크로스 플랫폼 확산 전략 수립
                </div>
            </div>

            <div class="scoring-guide">
                <h3>📊 브랜드별 타겟 포지셔닝</h3>
                <strong>🍼 ATP (Baby Care):</strong> 아기용 제품 → 엄마들 타겟, 순한 성분 강조<br>
                <strong>💧 RB (Moisture/Hydration):</strong> 수분/보습 → 건조한 피부 고민 타겟<br>
                <strong>🏥 ZRD (Derma-approved):</strong> 피부과 추천 → 민감성/문제성 피부 타겟<br>
                <strong>🔑 공통 핵심:</strong> 모든 브랜드 = Derma-approved, 한국 피부과에서 사용
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-top: 20px;">
                <div class="outreach-strategy">
                    <h3>🎯 주요 서브레딧</h3>

                    <strong>🍼 ATP:</strong><br>
                    • r/beyondthebump (400K)<br>
                    • r/Mommit (200K)<br>
                    • r/NewParents (150K)<br>
                    • r/AsianBeauty (840K)<br><br>

                    <strong>💧 RB:</strong><br>
                    • r/SkincareAddiction (1.4M)<br>
                    • r/AsianBeauty (840K)<br>
                    • r/30PlusSkinCare (80K)<br>
                    • r/DrySkinCare (15K)<br><br>

                    <strong>🏥 ZRD:</strong><br>
                    • r/SkincareAddiction (1.4M)<br>
                    • r/AsianBeauty (840K)<br>
                    • r/SebDerm (25K)<br>
                    • r/Rosacea (40K)
                </div>

                <div class="checklist-item">
                    <h3>🎬 후킹 메시지</h3>

                    <strong>ATP:</strong><br>
                    • "What Korean moms ACTUALLY use"<br>
                    • "Korean moms ONLY trust this"<br>
                    • "Korean hospitals actually use"<br><br>

                    <strong>RB:</strong><br>
                    • "Korean women ACTUALLY use"<br>
                    • "Korean skincare that ACTUALLY works"<br>
                    • "Korean dermatologists recommend"<br><br>

                    <strong>ZRD:</strong><br>
                    • "Korean doctors ACTUALLY recommend"<br>
                    • "Korean hospitals ACTUALLY use"<br>
                    • "Korean medical skincare"<br><br>

                    <strong>🔥 핵심 키워드:</strong><br>
                    ACTUALLY, ONLY, SECRET, Why [권위자] choose THIS
                </div>

                <div class="checklist-item">
                    <h3>📱 바이럴 전략</h3>

                    <strong>Reddit → 컨텐츠 연결:</strong><br>
                    • Reddit: "What do Korean moms use?"<br>
                    → 컨텐츠: "I asked my Korean mom..."<br><br>

                    • Reddit: "Dermatologist vs expensive"<br>
                    → 컨텐츠: "Korean dermatologist told me to stop..."<br><br>

                    <strong>컨텐츠 구조:</strong><br>
                    • 첫 3초: 강력한 후킹<br>
                    • 중간: Reddit 검증된 니즈<br>
                    • 마지막: Derma-approved 차별점<br>
                    • CTA: "Korean moms know best"
                </div>
            </div>
        </div>

        <!-- 대응 전략 탭 -->
        <div id="outreach" class="tab-content">
            <h2>📧 인플루언서 대응 전략</h2>

            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                <div class="outreach-strategy">
                    <h3>💌 차별화된 아웃리치 방법</h3>
                    <strong>4단계 접근 전략:</strong><br>
                    <strong>1단계:</strong> Instagram DM으로 관심 표현<br>
                    <strong>2단계:</strong> 24시간 후 이메일로 상세 제안<br>
                    <strong>3단계:</strong> 48시간 후 매니저 직접 컨택<br>
                    <strong>4단계:</strong> 1주 후 다른 팀원이 follow-up<br><br>

                    <strong>우선순위 매트릭스:</strong><br>
                    • S급: 즉시 개인화된 접근<br>
                    • A급: 24시간 내 컨택<br>
                    • B급: 주간 단위 batch 컨택<br><br>

                    <strong>3배수 법칙:</strong><br>
                    목표 10명 협업 → 30명 컨택 필수<br>
                    (예상 응답률 30% 고려)
                </div>

                <div class="outreach-strategy">
                    <h3>💬 DM 컨택 전략</h3>
                    <strong>첫 메시지 구조:</strong><br>
                    1. 개인화된 인사 (최근 콘텐츠 언급)<br>
                    2. 브랜드 간단 소개 (1줄)<br>
                    3. 협업 관심 표현<br>
                    4. 이메일 발송 허가 요청<br><br>

                    <strong>DM 예시:</strong><br>
                    "안녕하세요! [최근 콘텐츠 구체적 언급]을 보고 정말 감명받았어요. 저희 [브랜드명]에서 제안드리고 싶은 협업이 있어서 연락드렸습니다. 이메일로 자세한 내용 보내드려도
                    될까요?"<br><br>

                    <strong>DM 최적 타이밍:</strong><br>
                    • 화-목요일 오전 10-11시<br>
                    • 오후 2-3시<br>
                    • 인플루언서 활동 시간대 고려
                </div>

                <div class="outreach-strategy">
                    <h3>📧 이메일 컨택 전략</h3>
                    <strong>이메일 주소 찾는 방법:</strong><br>
                    • 인스타그램/틱톡 프로필 바이오 확인<br>
                    • 링크트리나 비하이브 링크<br>
                    • 유튜브 채널 About 페이지<br>
                    • Hunter.io, Voila Norbert 툴 활용<br><br>

                    <strong>제목 라인:</strong><br>
                    "[브랜드명] × @[username] 특별 협업 제안 (10월 아마존 런칭)"<br><br>

                    <strong>이메일 템플릿 구조:</strong><br>
                    1

                    <!-- 당장 할 일 탭 -->
                    <div id="tasks" class="tab-content">
                        <h2>🚨 당장 할 일 (스프린트 플랜 기반)</h2>

                        <div class="immediate-tasks">
                            <div class="task-day">
                                <h3>📅 Day 1 (9월 1일 월요일)</h3>
                                <strong>오전:</strong><br>
                                ✅ 이 템플릿을 팀원들과 공유 (HTML 파일)<br>
                                ✅ 팀 미팅 30분 (역할 분담 확정 - 유진님 50명, 희경님 25명, 연주님 25명)<br>
                                ✅ 경쟁사 3개 브랜드 최근 협업 인플루언서 각자 5명씩 찾기<br><br>

                                <strong>오후:</strong><br>
                                ✅ 각자 첫 10명 인플루언서 리스팅 시작<br>
                                ✅ 팔로워 수, 참여율, 브랜드 매칭 우선 체크
                            </div>

                            <div class="task-day">
                                <h3>📅 Day 2-5 (9월 2일-5일)</h3>
                                ✅ <strong>김유진:</strong> 하루 10명씩 리스팅 (총 50명)<br>
                                ✅ <strong>신희경:</strong> 하루 5명씩 리스팅 (총 25명)<br>
                                ✅ <strong>최연주:</strong> 하루 5명 + 경쟁사 분석 1개<br>
                                ✅ 매일 오후 3시 10분 체크인 미팅
                            </div>
                        </div>
                    </div>

                    <!-- 다른 탭들도 기존 내용 그대로 유지 -->
                </div>


                <!-- Firebase SDK -->
                <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
                <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

                <script>
                    // ⚠️ 여기에 Firebase 설정을 넣으세요 (Step 4에서 설명)
                    const firebaseConfig = {
                        apiKey: "AIzaSyBQ8Y-YixAjJscZ8s4_eFMjVbtxZpD1Mko",
                        authDomain: "influencer-seeding-8b702.firebaseapp.com",
                        databaseURL: "https://influencer-seeding-8b702-default-rtdb.asia-southeast1.firebasedatabase.app",
                        projectId: "influencer-seeding-8b702",
                        storageBucket: "influencer-seeding-8b702.firebasestorage.app",
                        messagingSenderId: "730517045041",
                        appId: "1:730517045041:web:0524c5f5157f9e42dcba10"
                    };

                    // Firebase 초기화
                    firebase.initializeApp(firebaseConfig);
                    const database = firebase.database();
                    const influencersRef = database.ref('influencers');

                    let influencers = [];
                    let rowCount = 0;

                    // Firebase 연결 상태 확인
                    database.ref('.info/connected').on('value', function (snapshot) {
                        const status = document.getElementById('firebaseStatus');
                        if (snapshot.val() === true) {
                            status.innerHTML = '✅ Firebase 연결됨 - 실시간 동기화 활성';
                            status.className = 'firebase-status';
                        } else {
                            status.innerHTML = '❌ Firebase 연결 끊어짐';
                            status.className = 'firebase-error';
                        }
                    });

                    // 데이터 로드
                    influencersRef.on('value', function (snapshot) {
                        const data = snapshot.val();
                        influencers = data ? Object.keys(data).map(key => ({ id: key, ...data[key] })) : [];
                        renderTable();
                        updateStats();
                    });

                    function renderTable() {
                        const tableBody = document.getElementById('tableBody');
                        tableBody.innerHTML = '';

                        influencers.forEach((influencer, index) => {
                            const row = tableBody.insertRow();
                            row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>
    ${influencer.profileUrl ?
                                    `<a href="${influencer.profileUrl}" target="_blank" style="color: #3498db; text-decoration: underline;">${influencer.name}</a> | <small><a href="javascript:void(0)" onclick="editName('${influencer.id}')" style="color: #95a5a6; font-size: 10px;">편집</a></small>` :
                                    `<input type="text" value="${influencer.name || ''}" onchange="updateInfluencer('${influencer.id}', 'name', this.value)" onkeypress="handleNameEnter(event, '${influencer.id}')" style="width:100px;">`
                                }
</td>
                    <td>
                        <select onchange="updatePlatformAndUrl('${influencer.id}', this.value)">
                            <option value="Instagram" ${influencer.platform === 'Instagram' ? 'selected' : ''}>Instagram</option>
                            <option value="TikTok" ${influencer.platform === 'TikTok' ? 'selected' : ''}>TikTok</option>
                        </select>
                    </td>
                    <td>
                        <select onchange="updateInfluencer('${influencer.id}', 'brand', this.value)">
                            <option value="미정" ${influencer.brand === '미정' ? 'selected' : ''}>미정</option>
                            <option value="ATP" ${influencer.brand === 'ATP' ? 'selected' : ''}>ATP</option>
                            <option value="RB" ${influencer.brand === 'RB' ? 'selected' : ''}>RB</option>
                            <option value="ZRD" ${influencer.brand === 'ZRD' ? 'selected' : ''}>ZRD</option>
                        </select>
                    </td>
                    <td><input type="text" value="${influencer.followers || ''}" onchange="updateInfluencer('${influencer.id}', 'followers', this.value)" style="width:60px;"></td>
                    <td><input type="text" value="${influencer.views || ''}" onchange="updateInfluencer('${influencer.id}', 'views', this.value)" style="width:60px;"></td>
                    <td><input type="text" value="${influencer.comments || ''}" onchange="updateInfluencer('${influencer.id}', 'comments', this.value)" style="width:60px;"></td>
                    <td><input type="number" class="score-input" max="20" value="${influencer.buyingPower || 0}" onchange="updateScore('${influencer.id}', 'buyingPower', this.value)"></td>
                    <td><input type="number" class="score-input" max="25" value="${influencer.trust || 0}" onchange="updateScore('${influencer.id}', 'trust', this.value)"></td>
                    <td><input type="number" class="score-input" max="20" value="${influencer.community || 0}" onchange="updateScore('${influencer.id}', 'community', this.value)"></td>
                    <td><input type="number" class="score-input" max="20" value="${influencer.targetMatch || 0}" onchange="updateScore('${influencer.id}', 'targetMatch', this.value)"></td>
                    <td><input type="number" class="score-input" max="15" value="${influencer.realUse || 0}" onchange="updateScore('${influencer.id}', 'realUse', this.value)"></td>
                    <td class="total-score">${calculateTotal(influencer)}</td>
                    <td class="${getGradeClass(calculateTotal(influencer))}">${getGrade(calculateTotal(influencer))}</td>
                    <td>
                        <select onchange="updateInfluencer('${influencer.id}', 'assignee', this.value)">
                            <option value="미정" ${influencer.assignee === '미정' ? 'selected' : ''}>미정</option>
                            <option value="신희경" ${influencer.assignee === '신희경' ? 'selected' : ''}>신희경</option>
                            <option value="최연주" ${influencer.assignee === '최연주' ? 'selected' : ''}>최연주</option>
                            <option value="김유진" ${influencer.assignee === '김유진' ? 'selected' : ''}>김유진</option>
                        </select>
                    </td>
                    <td>
                        <select onchange="updateInfluencer('${influencer.id}', 'status', this.value)">
                            <option value="대기중" ${influencer.status === '대기중' ? 'selected' : ''}>대기중</option>
                            <option value="연락완료" ${influencer.status === '연락완료' ? 'selected' : ''}>연락완료</option>
                            <option value="답장받음" ${influencer.status === '답장받음' ? 'selected' : ''}>답장받음</option>
                            <option value="거절" ${influencer.status === '거절' ? 'selected' : ''}>거절</option>
                        </select>
                    </td>
                    <td><input type="text" value="${influencer.budget || ''}" onchange="updateInfluencer('${influencer.id}', 'budget', this.value)" style="width:80px;"></td>
                    <td><button class="delete-btn" onclick="deleteInfluencer('${influencer.id}')">삭제</button></td>
                `;
                        });
                    }

                    function addInfluencer() {
                        const newInfluencer = {
                            name: '',
                            platform: 'Instagram',
                            brand: '미정',
                            followers: '',
                            views: '',
                            comments: '',
                            buyingPower: 0,
                            trust: 0,
                            community: 0,
                            targetMatch: 0,
                            realUse: 0,
                            reddit: 0,
                            assignee: '미정',
                            status: '대기중',
                            budget: ''
                        };

                        influencersRef.push(newInfluencer);
                    }

                    function deleteInfluencer(id) {
                        if (confirm('정말로 삭제하시겠습니까?')) {
                            influencersRef.child(id).remove();
                        }
                    }

                    function updateInfluencer(id, field, value) {
                        influencersRef.child(id).update({ [field]: value });
                    }

                    function updateScore(id, field, value) {
                        influencersRef.child(id).update({ [field]: parseInt(value) || 0 });
                    }

                    function calculateTotal(influencer) {
                        return (parseInt(influencer.buyingPower) || 0) +
                            (parseInt(influencer.trust) || 0) +
                            (parseInt(influencer.community) || 0) +
                            (parseInt(influencer.targetMatch) || 0) +
                            (parseInt(influencer.realUse) || 0);
                    }

                    function getGrade(total) {
                        if (total >= 80) return 'S';
                        if (total >= 70) return 'A';
                        if (total >= 55) return 'B';
                        if (total >= 35) return 'C';
                        return 'D';
                    }

                    function getGradeClass(total) {
                        if (total >= 80) return 'priority-s';
                        if (total >= 70) return 'priority-a';
                        if (total >= 55) return 'priority-b';
                        if (total >= 35) return 'priority-c';
                        return 'priority-d';
                    }

                    function updateStats() {
                        const totalCandidates = influencers.length;
                        let aPriority = 0;
                        let contacted = 0;
                        let responded = 0;

                        influencers.forEach(influencer => {
                            const total = calculateTotal(influencer);
                            if (total >= 80) aPriority++;

                            if (influencer.status === '연락완료' || influencer.status === '답장받음') contacted++;
                            if (influencer.status === '답장받음') responded++;
                        });

                        document.getElementById('totalCandidates').textContent = totalCandidates;
                        document.getElementById('aPriority').textContent = aPriority;
                        document.getElementById('contacted').textContent = contacted;
                        document.getElementById('responded').textContent = responded;
                    }

                    function handleNameEnter(event, id) {
                        if (event.key === 'Enter') {
                            const inputValue = event.target.value.trim();
                            if (inputValue) {
                                convertToLink(id, inputValue);
                            }
                        }
                    }

                    function convertToLink(id, username) {
                        const influencer = influencers.find(inf => inf.id === id);
                        if (!influencer) return;

                        const platform = influencer.platform || 'Instagram';
                        let cleanUsername = username;
                        let profileUrl = '';

                        if (platform === 'Instagram') {
                            cleanUsername = username.replace('@', '');
                            profileUrl = `https://www.instagram.com/${cleanUsername}/`;
                        } else if (platform === 'TikTok') {
                            if (!username.startsWith('@')) {
                                cleanUsername = '@' + username;
                            }
                            profileUrl = `https://www.tiktok.com/${cleanUsername}`;
                        }

                        influencersRef.child(id).update({
                            name: username,
                            profileUrl: profileUrl
                        });
                    }

                    function editName(id) {
                        influencersRef.child(id).update({
                            profileUrl: null
                        });
                    }

                    function updatePlatformAndUrl(id, newPlatform) {
                        const influencer = influencers.find(inf => inf.id === id);
                        if (!influencer) return;

                        // 플랫폼 업데이트
                        influencersRef.child(id).update({ platform: newPlatform });

                        // 이미 링크가 있다면 새 플랫폼에 맞게 URL 변경
                        if (influencer.profileUrl && influencer.name) {
                            let cleanUsername = influencer.name;
                            let newProfileUrl = '';

                            if (newPlatform === 'Instagram') {
                                cleanUsername = influencer.name.replace('@', '');
                                newProfileUrl = `https://www.instagram.com/${cleanUsername}/`;
                            } else if (newPlatform === 'TikTok') {
                                if (!influencer.name.startsWith('@')) {
                                    cleanUsername = '@' + influencer.name;
                                }
                                newProfileUrl = `https://www.tiktok.com/${cleanUsername}`;
                            }

                            // 새 URL로 업데이트
                            influencersRef.child(id).update({
                                name: cleanUsername,
                                profileUrl: newProfileUrl
                            });
                        }
                    }

                    function sortTable() {
                        const sortValue = document.getElementById('sortFilter').value;
                        if (!sortValue) {
                            renderTable(); // Reset to original order
                            return;
                        }

                        let sortedInfluencers = [...influencers];

                        switch (sortValue) {
                            case 'grade-high':
                                sortedInfluencers.sort((a, b) => {
                                    const gradeOrder = { 'S': 4, 'A': 3, 'B': 2, 'C': 1, 'D': 0 };
                                    return gradeOrder[getGrade(calculateTotal(b))] - gradeOrder[getGrade(calculateTotal(a))];
                                });
                                break;
                            case 'grade-low':
                                sortedInfluencers.sort((a, b) => {
                                    const gradeOrder = { 'S': 4, 'A': 3, 'B': 2, 'C': 1, 'D': 0 };
                                    return gradeOrder[getGrade(calculateTotal(a))] - gradeOrder[getGrade(calculateTotal(b))];
                                });
                                break;
                            case 'total-high':
                                sortedInfluencers.sort((a, b) => calculateTotal(b) - calculateTotal(a));
                                break;
                            case 'total-low':
                                sortedInfluencers.sort((a, b) => calculateTotal(a) - calculateTotal(b));
                                break;
                            case 'platform':
                                sortedInfluencers.sort((a, b) => (a.platform || 'Instagram').localeCompare(b.platform || 'Instagram'));
                                break;
                            case 'brand':
                                sortedInfluencers.sort((a, b) => (a.brand || '미정').localeCompare(b.brand || '미정'));
                                break;
                            case 'assignee':
                                sortedInfluencers.sort((a, b) => (a.assignee || '미정').localeCompare(b.assignee || '미정'));
                                break;
                            case 'status':
                                sortedInfluencers.sort((a, b) => (a.status || '대기중').localeCompare(b.status || '대기중'));
                                break;
                        }

                        renderSortedTable(sortedInfluencers);
                    }

                    function renderSortedTable(sortedInfluencers) {
                        const tableBody = document.getElementById('tableBody');
                        tableBody.innerHTML = '';

                        sortedInfluencers.forEach((influencer, index) => {
                            const row = tableBody.insertRow();
                            row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>
                        ${influencer.profileUrl ?
                                    `<a href="${influencer.profileUrl}" target="_blank" style="color: #3498db; text-decoration: underline;">${influencer.name}</a> | <small><a href="javascript:void(0)" onclick="editName('${influencer.id}')" style="color: #95a5a6; font-size: 10px;">편집</a></small>` :
                                    `<input type="text" value="${influencer.name || ''}" onchange="updateInfluencer('${influencer.id}', 'name', this.value)" onkeypress="handleNameEnter(event, '${influencer.id}')" style="width:100px;">`
                                }
                    </td>
                    <td>
                        <select onchange="updatePlatformAndUrl('${influencer.id}', this.value)">
                            <option value="Instagram" ${influencer.platform === 'Instagram' ? 'selected' : ''}>Instagram</option>
                            <option value="TikTok" ${influencer.platform === 'TikTok' ? 'selected' : ''}>TikTok</option>
                        </select>
                    </td>
                    <td>
                        <select onchange="updateInfluencer('${influencer.id}', 'brand', this.value)">
                            <option value="미정" ${influencer.brand === '미정' ? 'selected' : ''}>미정</option>
                            <option value="ATP" ${influencer.brand === 'ATP' ? 'selected' : ''}>ATP</option>
                            <option value="RB" ${influencer.brand === 'RB' ? 'selected' : ''}>RB</option>
                            <option value="ZRD" ${influencer.brand === 'ZRD' ? 'selected' : ''}>ZRD</option>
                        </select>
                    </td>
                    <td><input type="text" value="${influencer.followers || ''}" onchange="updateInfluencer('${influencer.id}', 'followers', this.value)" style="width:60px;"></td>
                    <td><input type="text" value="${influencer.views || ''}" onchange="updateInfluencer('${influencer.id}', 'views', this.value)" style="width:60px;"></td>
                    <td><input type="text" value="${influencer.comments || ''}" onchange="updateInfluencer('${influencer.id}', 'comments', this.value)" style="width:60px;"></td>
                    <td><input type="number" class="score-input" max="20" value="${influencer.buyingPower || 0}" onchange="updateScore('${influencer.id}', 'buyingPower', this.value)"></td>
                    <td><input type="number" class="score-input" max="25" value="${influencer.trust || 0}" onchange="updateScore('${influencer.id}', 'trust', this.value)"></td>
                    <td><input type="number" class="score-input" max="20" value="${influencer.community || 0}" onchange="updateScore('${influencer.id}', 'community', this.value)"></td>
                    <td><input type="number" class="score-input" max="20" value="${influencer.targetMatch || 0}" onchange="updateScore('${influencer.id}', 'targetMatch', this.value)"></td>
                    <td><input type="number" class="score-input" max="15" value="${influencer.realUse || 0}" onchange="updateScore('${influencer.id}', 'realUse', this.value)"></td>
                    <td class="total-score">${calculateTotal(influencer)}</td>
                    <td class="${getGradeClass(calculateTotal(influencer))}">${getGrade(calculateTotal(influencer))}</td>
                    <td>
                        <select onchange="updateInfluencer('${influencer.id}', 'assignee', this.value)">
                            <option value="미정" ${influencer.assignee === '미정' ? 'selected' : ''}>미정</option>
                            <option value="신희경" ${influencer.assignee === '신희경' ? 'selected' : ''}>신희경</option>
                            <option value="최연주" ${influencer.assignee === '최연주' ? 'selected' : ''}>최연주</option>
                            <option value="김유진" ${influencer.assignee === '김유진' ? 'selected' : ''}>김유진</option>
                        </select>
                    </td>
                    <td>
                        <select onchange="updateInfluencer('${influencer.id}', 'status', this.value)">
                            <option value="대기중" ${influencer.status === '대기중' ? 'selected' : ''}>대기중</option>
                            <option value="연락완료" ${influencer.status === '연락완료' ? 'selected' : ''}>연락완료</option>
                            <option value="답장받음" ${influencer.status === '답장받음' ? 'selected' : ''}>답장받음</option>
                            <option value="거절" ${influencer.status === '거절' ? 'selected' : ''}>거절</option>
                        </select>
                    </td>
                    <td><input type="text" value="${influencer.budget || ''}" onchange="updateInfluencer('${influencer.id}', 'budget', this.value)" style="width:80px;"></td>
                    <td><button class="delete-btn" onclick="deleteInfluencer('${influencer.id}')">삭제</button></td>
                `;
                        });
                    }

                    function showTab(tabName) {
                        const contents = document.querySelectorAll('.tab-content');
                        contents.forEach(content => content.classList.remove('active'));

                        const tabs = document.querySelectorAll('.tab');
                        tabs.forEach(tab => tab.classList.remove('active'));

                        document.getElementById(tabName).classList.add('active');
                        event.target.classList.add('active');
                    }


                </script>
</body>

</html>